quantile(harmful_data$fatalities, 0.99)
quantile(harmful_data$fatalities, 0.999)
quantile(harmful_data$fatalities, c(0.9, 0.99, 0.999, 0.9999))
boxplot(harmful_data$fatalities)
mean(harmful_data$fatalities)
median(harmful_data$fatalities)
table(harmful_data$evtype)
max(table(harmful_data$evtype))
which.max(table(harmful_data$evtype))
table(harmful_data$evtype)[which.max(table(harmful_data$evtype))]
table(harmful_data$evtype)[which.max(table(harmful_data$evtype))]
unique(harmful_data$fatalities)
unique(harmful_data$evtype)
sort(unique(harmful_data$evtype))
harmful_events <- sort(unique(harmful_data$evtype))
harmful_events[which.max(table(harmful_data$evtype))]
table(harmful_data$evtype)[which.max(table(harmful_data$evtype))]
harmful_events <- as.factor(sort(unique(harmful_data$evtype)))
harmful_events
table(harmful_data$evtype)[which.max(table(harmful_data$evtype))]
table(harmful_data$evtype)[which.max(table(harmful_data$evtype))]
table(harmful_data$evtype)[table(harmful_data$evtype) > 60]
table(harmful_data$evtype)[table(harmful_data$evtype) >= 60]
table(harmful_data$evtype)[table(harmful_data$evtype) >= 40]
table(harmful_data$evtype)[table(harmful_data$evtype) >= 60]
rm(harmful_events)
harmful_data %>%
group_by(evtype)
harmful_data %>%
group_by(evtype) %>%
summarise(sum(fatalities))
harmful_data %>%
group_by(evtype) %>%
summarise(sum(fatalities), sum(injuries))
summarise(sum(fatalities), sum(injuries), max(fatalities))
summarise(sum(fatalities), sum(injuries))
harmful_data %>%
group_by(evtype) %>%
summarise(sum(fatalities), sum(injuries), max(fatalities))
harmful_data %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
str(data)
head(data %>% select(bgn_date, state, evtype, fatalities, injuries, propdm, cropdmg))
head(data %>% select(bgn_date, state, evtype, fatalities, injuries, propdmg, cropdmg))
tail(data %>% select(bgn_date, state, evtype, fatalities, injuries, propdmg, cropdmg))
head(data %>% select(state, evtype, fatalities, injuries, propdmg, cropdmg))
tail(data %>% select(state, evtype, fatalities, injuries, propdmg, cropdmg))
unique(data$state__)
sort(unique(data$state__))
length(sort(unique(data$state__)))
length(unique(data$state))
unique(data$state)
unique(data$state)[72]
data[data$state == unique(data$state)[72], ]
unique(data$state)
sort(unique(data$state))
state.abb
match(harmful_data$state, state.abb)
!is.na(match(harmful_data$state, state.abb))
harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb)))
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
harmful_data <- data %>%
select(bgn_date, state, evtype, fatalities, injuries) %>%
filter(!(fatalities == 0 & injuries == 0))
harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
by_evtype <- harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
by_evtype
table(harmful_data$evtype)
by_evtype %>%
mutate(num_ocur = table(harmful_data$evtype))
by_evtype$evtype
length(table(harmful_data$evtype))
names(table(harmful_data$evtype))
match(by_evtype$evtype, names(table(harmful_data$evtype)))
match(names(table(harmful_data$evtype)), by_evtype$evtype)
names(table(harmful_data$evtype))[is.na(match(names(table(harmful_data$evtype)), by_evtype$evtype))]
by_evtype %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]))
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]),
ratio_fatal = num_ocur / sum(fatalities), ratio_injur = num_ocur / sum(injuries))
by_evtype %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]),
ratio_fatal = num_ocur / sum(fatalities), ratio_injur = num_ocur / sum(injuries))
by_evtype %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]),
ratio_fatal = num_ocur/sum(fatalities), ratio_injur = num_ocur/sum(injuries))
names(by_evtype)
names(by_evtype) <- c("evtype", "total_fatal", "max_fatal", "total_injur", "max_injur")
by_evtype %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]),
ratio_fatal = num_ocur/total_fatal, ratio_injur = num_ocur/total_injur)
by_evtype <- by_evtype %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]),
ratio_fatal = num_ocur/total_fatal, ratio_injur = num_ocur/total_injur)
by_evtype[ by_evtype$ratio_fatal==Inf, ]
by_evtype[ by_evtype$ratio_fatal==Inf | by_evtype$ratio_injur==Inf, ]
by_evtype$ratio_fatal[ by_evtype$ratio_fatal==Inf] <- 0
by_evtype$ratio_fatal[by_evtype$ratio_injur==Inf] <- 0
by_evtype
View(by_evtype)
by_evtype <- harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
names(by_evtype) <- c("evtype", "total_fatal", "max_fatal", "total_injur", "max_injur")
by_evtype <- by_evtype %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]),
ratio_fatal = num_ocur/total_fatal, ratio_injur = num_ocur/total_injur)
by_evtype$ratio_fatal[by_evtype$ratio_fatal==Inf] <- 0
by_evtype$ratio_injur[by_evtype$ratio_injur==Inf] <- 0
View(harmful_data)
View(by_evtype)
by_evtype <- by_evtype %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]),
ratio_fatal = total_fatal/num_ocur, ratio_injur = total_injur/num_ocur)
View(by_evtype)
by_evtype_harmful <- harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
names(by_evtype_harmful) <- c("evtype", "total_fatal", "max_fatal", "total_injur", "max_injur")
by_evtype_harmful <- by_evtype_harmful %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]),
ratio_fatal = total_fatal/num_ocur, ratio_injur = total_injur/num_ocur)
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)]
by_evtype_harmful$evtype
grep(by_evtype_harmful$evtype, "avalan")
grep("avalan", by_evtype_harmful$evtype)
by_evtype_harmful$evtype[grep("avalan", by_evtype_harmful$evtype)]
by_evtype_harmful$evtype[grep("avalan", by_evtype_harmful$evtype)]
by_evtype_harmful$evtype[grep("avalan", by_evtype_harmful$evtype)]
harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb))) %>%
group_by(evtype) %>%
inner_join(by_evtype_harmful$evtype[grep("avalan", by_evtype_harmful$evtype)])
by_evtype_harmful$evtype[grep("avalan", by_evtype_harmful$evtype)]
by_evtype_harmful$evtype
by_evtype_harmful
grep("avalan", harmful_data$evtype)
harmful_data$evtype[grep("avalan", harmful_data$evtype)]
table(harmful_data$evtype[grep("avalan", harmful_data$evtype)])
harmful_data$evtype[grep("bliz", harmful_data$evtype)]
harmful_data[harmful_data$evtype == "heavy snow/blizzard/avalanche", ]
official_events <- c("Astronomical Low Tide", "Avalanche", "Blizzard",
"Coastal Flood", "Cold/Wind Chill", "Debris Flow",
"Dense Fog", "Dense Smoke", "Drought", "Dust Devil",
"Dust Storm", "Excessive Heat", "Extreme Cold/Wind Chill",
"Flash Flood", "Flood", "Frost/Freeze", "Funnel Cloud",
"Freezing Fog", "Hail", "Heat", "Heavy Rain", "Heavy Snow",
"High Surf", "High Wind", "Hurricane (Typhoon)", "Ice Storm",
"Lake-Effect Snow", "Lakeshore Flood", "Lightning",
"Marine Hail", "Marine High Wind", "Marine Strong Wind",
"Marine Thunderstorm Wind", "Rip Curren", "Seiche", "Sleet",
"Storm Surge/Tide", "Strong Wind", "Thunderstorm Wind",
"Tornado", "Tropical Depression", "Tropical Storm", "Tsunami",
"Volcanic Ash", "Waterspout", "Wildfire", "Winter Storm",
"Winter Weather")
pattern <- substr(official_events, 1, 5)
pattern
harmful_data$evtype[grep(pattern[1], harmful_data$evtype)]
pattern[1]
harmful_data$evtype[grep(pattern[2], harmful_data$evtype)]
pattern[2]
harmful_data$evtype
[grep(pattern[2], harmful_data$evtype)
pattern[2]
grep(pattern[2], harmful_data$evtype)
official_events <- tolower(c("Astronomical Low Tide", "Avalanche", "Blizzard",
"Coastal Flood", "Cold/Wind Chill", "Debris Flow",
"Dense Fog", "Dense Smoke", "Drought", "Dust Devil",
"Dust Storm", "Excessive Heat", "Extreme Cold/Wind Chill",
"Flash Flood", "Flood", "Frost/Freeze", "Funnel Cloud",
"Freezing Fog", "Hail", "Heat", "Heavy Rain", "Heavy Snow",
"High Surf", "High Wind", "Hurricane (Typhoon)", "Ice Storm",
"Lake-Effect Snow", "Lakeshore Flood", "Lightning",
"Marine Hail", "Marine High Wind", "Marine Strong Wind",
"Marine Thunderstorm Wind", "Rip Curren", "Seiche", "Sleet",
"Storm Surge/Tide", "Strong Wind", "Thunderstorm Wind",
"Tornado", "Tropical Depression", "Tropical Storm", "Tsunami",
"Volcanic Ash", "Waterspout", "Wildfire", "Winter Storm",
"Winter Weather"))
```
harmful_data$evtype[grep(pattern[2], harmful_data$evtype)]
pattern[2]
pattern <- substr(official_events, 1, 5)
harmful_data$evtype[grep(pattern[2], harmful_data$evtype)]
official_events[2]
harmful_data$evtype[grep(pattern[3], harmful_data$evtype)]
official_events[3]
official_events[4]
harmful_data$evtype[grep(pattern[4], harmful_data$evtype)]
pattern
harmful_data$evtype[grep(pattern[5], harmful_data$evtype)]
pattern <- substr(official_events, 1, 4)
harmful_data$evtype[grep(pattern[5], harmful_data$evtype)]
harmful_data$evtype[grep(pattern[2], harmful_data$evtype)]
pattern <- substr(official_events, 1, 5)
harmful_data$evtype[grep(pattern[2], harmful_data$evtype)]
seq_along(official_events)
pattern <- substr(official_events, 1, 4)
for(i in seq_along(official_events)){
harmful_data$evtype[grep(pattern[i], harmful_data$evtype)] <- official_events[i]
}
by_evtype_harmful <- harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
names(by_evtype_harmful) <- c("evtype", "total_fatal", "max_fatal", "total_injur", "max_injur")
by_evtype_harmful <- by_evtype_harmful %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]),
ratio_fatal = total_fatal/num_ocur, ratio_injur = total_injur/num_ocur)
by_evtype$evtype
unique(harmful_data$evtype)
match(harmful_data$evtype, official_events)
by_evtype_harmful <- harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb)) & !is.na(match(harmful_data$evtype, official_events))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
names(by_evtype_harmful) <- c("evtype", "total_fatal", "max_fatal", "total_injur", "max_injur")
by_evtype_harmful <- by_evtype_harmful %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]),
ratio_fatal = total_fatal/num_ocur, ratio_injur = total_injur/num_ocur)
by_evtype$evtype
by_evtype_harmful <- by_evtype_harmful %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb)) & !is.na(match(harmful_data$evtype, official_events))]),
ratio_fatal = total_fatal/num_ocur, ratio_injur = total_injur/num_ocur)
by_evtype$evtype
harmful_data <- data %>%
select(bgn_date, state, evtype, fatalities, injuries) %>%
filter(!(fatalities == 0 & injuries == 0))
pattern <- substr(official_events, 1, 4)
for(i in seq_along(official_events)){
harmful_data$evtype[grep(pattern[i], harmful_data$evtype)] <- official_events[i]
}
unique(harmful_data$evtype)
by_evtype_harmful <- harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb)) & !is.na(match(harmful_data$evtype, official_events))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
names(by_evtype_harmful) <- c("evtype", "total_fatal", "max_fatal", "total_injur", "max_injur")
by_evtype_harmful <- by_evtype_harmful %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb)) & !is.na(match(harmful_data$evtype, official_events))]),
ratio_fatal = total_fatal/num_ocur, ratio_injur = total_injur/num_ocur)
by_evtype$evtype
unique(by_evtype$evtype)
harmful_data <- data %>%
select(bgn_date, state, evtype, fatalities, injuries) %>%
filter(!(fatalities == 0 & injuries == 0))
by_evtype_harmful <- harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
names(by_evtype_harmful) <- c("evtype", "total_fatal", "max_fatal", "total_injur", "max_injur")
by_evtype_harmful
by_evtype_harmful <- by_evtype_harmful %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))),
ratio_fatal = total_fatal/num_ocur, ratio_injur = total_injur/num_ocur)
unique(by_evtype$evtype)
harmful_data <- data %>%
select(bgn_date, state, evtype, fatalities, injuries) %>%
filter(!(fatalities == 0 & injuries == 0))
by_evtype_harmful <- harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
names(by_evtype_harmful) <- c("evtype", "total_fatal", "max_fatal", "total_injur", "max_injur")
by_evtype_harmful
pattern <- substr(official_events, 1, 4)
for(i in seq_along(official_events)){
harmful_data$evtype[grep(pattern[i], harmful_data$evtype)] <- official_events[i]
}
unique(harmful_data$evtype)
by_evtype_harmful <- harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
names(by_evtype_harmful) <- c("evtype", "total_fatal", "max_fatal", "total_injur", "max_injur")
by_evtype_harmful$evtype
by_evtype_harmful <- by_evtype_harmful %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb))]),
ratio_fatal = total_fatal/num_ocur, ratio_injur = total_injur/num_ocur)
by_evtype_harmful$evtype
View(by_evtype_harmful)
rm(by_evtype)
View(by_evtype_harmful)
harmful_data <- data %>%
select(bgn_date, state, evtype, fatalities, injuries) %>%
filter(!(fatalities == 0 & injuries == 0))
pattern <- substr(official_events, 1, 4)
for(i in seq_along(official_events)){
harmful_data$evtype[grep(pattern[i], harmful_data$evtype)] <- official_events[i]
}
by_evtype_harmful <- harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb)) &
!is.na(match(harmful_data$evtype, official_events))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
names(by_evtype_harmful) <- c("evtype", "total_fatal", "max_fatal", "total_injur", "max_injur")
by_evtype_harmful <- by_evtype_harmful %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb)) &
!is.na(match(harmful_data$evtype, official_events))]),
ratio_fatal = total_fatal/num_ocur, ratio_injur = total_injur/num_ocur)
View(by_evtype_harmful)
View(by_evtype_harmful)
by_evtype_harmful[which.max(by_evtype_harmful$total_fatal)]
which.max(by_evtype_harmful$total_fatal)
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_fatal)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_injur)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_fatal)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_injur)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$num_ocur)]
View(by_evtype_harmful)
plot(as.factor(by_evtype_harmful$evtype), by_evtype_harmful$evtype)
hist(by_evtype_harmful$evtype)
hist(by_evtype_harmful$total_fatal)
plot(by_evtype_harmful$evtype, by_evtype_harmful$total_fatal, type="h")
plot(as.factor(by_evtype_harmful$evtype), by_evtype_harmful$total_fatal, type="h")
plot(as.factor(by_evtype_harmful$evtype), by_evtype_harmful$total_fatal, type="l")
?plot
plot(as.factor(by_evtype_harmful$evtype), by_evtype_harmful$total_fatal, type = "h")
plot(as.factor(by_evtype_harmful$evtype), by_evtype_harmful$total_fatal, type = "b")
plot(as.factor(by_evtype_harmful$evtype), by_evtype_harmful$total_fatal, type = "p")
plot(as.factor(by_evtype_harmful$evtype), by_evtype_harmful$total_fatal, type = "l")
plot(as.factor(by_evtype_harmful$evtype), by_evtype_harmful$total_fatal, type = "p")
plot(as.factor(by_evtype_harmful$evtype), by_evtype_harmful$total_fatal, type = "p")
barplot(by_evtype_harmful$total_fatal)
barplot(by_evtype_harmful$total_fatal, names.arg = by_evtype_harmful$evtype)
barplot(by_evtype_harmful$total_fatal, names.arg = by_evtype_harmful$evtype, axes = F)
barplot(by_evtype_harmful$total_fatal, names.arg = by_evtype_harmful$evtype)
barplot(by_evtype_harmful$total_fatal)
by_evtype_harmful$evtype[ by_evtype_harmful$total_fatal > 100 ]
by_evtype_harmful$evtype[ by_evtype_harmful$total_fatal > 200 ]
by_evtype_harmful$evtype[ by_evtype_harmful$total_fatal > 300 ]
by_evtype_harmful$evtype[ by_evtype_harmful$total_fatal > 400 ]
by_evtype_harmful$evtype[ by_evtype_harmful$total_fatal > 500 ]
axis(1, labels = by_evtype_harmful$evtype[ by_evtype_harmful$total_fatal > 500 ])
by_evtype_harmful$evtype[ by_evtype_harmful$total_fatal > 500 ]
axis(1, labels = by_evtype_harmful$evtype)
by_evtype_harmful$evtype[ by_evtype_harmful$total_fatal > 500 ]
which(by_evtype_harmful$total_fatal > 500)
axis(1, tick = which(by_evtype_harmful$total_fatal > 500) , labels = by_evtype_harmful$evtype[by_evtype_harmful$total_fatal > 500])
axis(1, at = which(by_evtype_harmful$total_fatal > 500) , labels = by_evtype_harmful$evtype[by_evtype_harmful$total_fatal > 500])
axis(1, at = which(by_evtype_harmful$total_fatal > 500) , labels = by_evtype_harmful$evtype[by_evtype_harmful$total_fatal > 500], lwd = 1)
barplot(by_evtype_harmful$total_fatal)
axis(1, at = which(by_evtype_harmful$total_fatal > 500) , labels = by_evtype_harmful$evtype[by_evtype_harmful$total_fatal > 500])
which(by_evtype_harmful$total_fatal > 500)
by_evtype_harmful$total_fatal
by_evtype_harmful$evtype[by_evtype_harmful$total_fatal > 500]
axis(1, at = which(by_evtype_harmful$total_fatal > 500) , labels = by_evtype_harmful$evtype[by_evtype_harmful$total_fatal > 500], str=45)
barplot(by_evtype_harmful$total_fatal)
axis(1, at = which(by_evtype_harmful$total_fatal > 500) , labels = by_evtype_harmful$evtype[by_evtype_harmful$total_fatal > 500])
barplot(by_evtype_harmful$total_fatal, legend.text = by_evtype_harmful$evtype[by_evtype_harmful$total_fatal > 500])
barplot(by_evtype_harmful$total_fatal, col="red")
by_evtype_harmful <- by_evtype_harmful %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb)) &
!is.na(match(harmful_data$evtype, official_events))]))
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_fatal)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_injur)]
View(by_evtype_harmful)
by_evtype_harmful <- by_evtype_harmful %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb)) &
!is.na(match(harmful_data$evtype, official_events))]))
View(by_evtype_harmful)
by_evtype_harmful <- harmful_data %>%
filter(!is.na(match(harmful_data$state, state.abb)) &
!is.na(match(harmful_data$evtype, official_events))) %>%
group_by(evtype) %>%
summarise(sum(fatalities), max(fatalities), sum(injuries), max(injuries))
names(by_evtype_harmful) <- c("evtype", "total_fatal", "max_fatal", "total_injur", "max_injur")
by_evtype_harmful <- by_evtype_harmful %>%
mutate(num_ocur = table(harmful_data$evtype[!is.na(match(harmful_data$state, state.abb)) &
!is.na(match(harmful_data$evtype, official_events))]))
View(by_evtype_harmful)
by_evtype_harmful[which.max(by_evtype_harmful$total_fatal), ]
by_evtype_harmful[which.max(by_evtype_harmful$max_fatal), ]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_injur)]
by_evtype_harmful[which.max(by_evtype_harmful$max_fatal), ]
by_evtype_harmful[which.max(by_evtype_harmful$total_fatal), ]
data[which.max(by_evtype_harmful$total_fatal), ]
by_evtype_harmful[which.max(by_evtype_harmful$total_fatal), ]
by_evtype_harmful[which.max(by_evtype_harmful$max_fatal), ]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)]
by_evtype_harmful[by_evtype_harmful$evtype == "by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)]"]
by_evtype_harmful[by_evtype_harmful$evtype == by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)]]
by_evtype_harmful[by_evtype_harmful$evtype == by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)], ]
by_evtype_harmful[by_evtype_harmful$evtype == by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)], ]
by_evtype_harmful[by_evtype_harmful$evtype == by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_fatal)], ]
by_evtype_harmful[by_evtype_harmful$evtype == by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_injur)], ]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_fatal)]
by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_injur)]
unique(by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)], by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)], by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_fatal)], by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_injur)])
```
unique(by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)], by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)], by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_fatal)], by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_injur)])
unique(c(by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)], by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)], by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_fatal)], by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_injur)]))
harmful_event <- c()
(harmful_event[1] <- by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)])
(harmful_event[2] <- by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_injur)])
(harmful_event[3] <- by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_fatal)])
(harmful_event[4] <- by_evtype_harmful$evtype[which.max(by_evtype_harmful$max_injur)])
most_harmful_events <- unique(harmful_event)
most_harmful_events
barplot(by_evtype_harmful$)
barplot(by_evtype_harmful$total_fatal)
by_evtype_harmful$total_fatal
heat.colors
heat.colors()
heat.colors(by_evtype_harmful$total_fatal)
by_evtype_harmful$total_fatal
which.max(by_evtype_harmful$total_fatal)
rep("black", length(by_evtype_harmful$evtype))
colors <- rep("black", length(by_evtype_harmful$evtype))
colors[which.max(by_evtype_harmful$total_fatal)] <- "red"
colors
barplot(by_evtype_harmful$total_fatal, col = colors)
axis(1, at = which.max(by_evtype_harmful$total_fatal), labels = by_evtype_harmful$evtype[which.max(by_evtype_harmful$total_fatal)]))
axis(1, at = which.max(by_evtype_harmful$total_fatal), labels = harmful_event[1])
barplot(by_evtype_harmful$total_fatal, col = colors)
by_evtype_harmful$total_fatal
which.max(by_evtype_harmful$total_fatal)
axis(1, at = which.max(by_evtype_harmful$total_fatal), labels = harmful_event[1])
axis(1, at = which.max(by_evtype_harmful$total_fatal)+4, labels = harmful_event[1])
barplot(by_evtype_harmful$total_fatal, col = colors)
axis(1, at = which.max(by_evtype_harmful$total_fatal)+4, labels = harmful_event[1])
barplot(by_evtype_harmful$total_fatal, col = colors)
axis(1, at = which.max(by_evtype_harmful$total_fatal)+3 labels = harmful_event[1])
barplot(by_evtype_harmful$total_fatal, col = colors)
axis(1, at = which.max(by_evtype_harmful$total_fatal)+3 labels = harmful_event[1])
axis(1, at = which.max(by_evtype_harmful$total_fatal)+3, labels = harmful_event[1])
axis(1, at = which.max(by_evtype_harmful$total_fatal)+4, labels = harmful_event[1])
barplot(by_evtype_harmful$total_fatal, col = colors)
axis(1, at = which.max(by_evtype_harmful$total_fatal)+4, labels = harmful_event[1])
barplot(by_evtype_harmful$total_fatal, col = colors, legend.text = T)
axis(1, at = which.max(by_evtype_harmful$total_fatal)+4, labels = harmful_event[1])
barplot(by_evtype_harmful$total_fatal, col = colors, main = "Total of fatalities per event in US")
axis(1, at = which.max(by_evtype_harmful$total_fatal)+4, labels = harmful_event[1])
barplot(by_evtype_harmful$total_fatal, col = colors, main = "Total of fatalities per event in US", xlab = "Event", ylab = "Total of fatalities")
barplot(by_evtype_harmful$total_fatal, col = colors, main = "Total of fatalities per event in US",
xlab = "Event", ylab = "Total of fatalities")
axis(1, at = which.max(by_evtype_harmful$total_fatal)+4, labels = harmful_event[1])
by_evtype_harmful$total_fatal
which(by_evtype_harmful$total_fatal > 500)
axis(1, at = which(by_evtype_harmful$total_fatal > 500)+4, labels = by_evtype_harmful$evtype[which(by_evtype_harmful$total_fatal > 500)])
by_evtype_harmful$evtype[which(by_evtype_harmful$total_fatal > 500)]
text(cex=1, x=x-.25, y=-1.25, labs, xpd=TRUE, srt=45)
x <- barplot(by_evtype_harmful$total_fatal, col = colors, main = "Total of fatalities per event in US",
xlab = "Event", ylab = "Total of fatalities")
text(cex=1, x=x-.25, y=-1.25, labs, xpd=TRUE, srt=45)
text(cex=1, x=x-.25, y=-1.25, by_evtype_harmful$evtype[which(by_evtype_harmful$total_fatal > 500)], xpd=TRUE, srt=45)
barplot(by_evtype_harmful$total_fatal, col = colors, main = "Total of fatalities per event in US",
xlab = "Event", ylab = "Total of fatalities")
axis(1, at = which(by_evtype_harmful$total_fatal > 500)+4, labels = by_evtype_harmful$evtype[which(by_evtype_harmful$total_fatal > 500)])
text(cex=1, x=x-.25, y=-1.25, labs, xpd=TRUE, srt=45)
which(by_evtype_harmful$total_fatal > 700)
axis(1, at = which(by_evtype_harmful$total_fatal > 700), labels = by_evtype_harmful$evtype[which(by_evtype_harmful$total_fatal > 500)], )
barplot(by_evtype_harmful$total_fatal, col = colors, main = "Total of fatalities per event in US",
xlab = "Event", ylab = "Total of fatalities")
axis(1, at = which(by_evtype_harmful$total_fatal > 700), labels = by_evtype_harmful$evtype[which(by_evtype_harmful$total_fatal > 700)], )
axis(1, at = which(by_evtype_harmful$total_fatal > 700)+3, labels = by_evtype_harmful$evtype[which(by_evtype_harmful$total_fatal > 700)], )
barplot(by_evtype_harmful$total_fatal, col = colors, main = "Total of fatalities per event in US",
xlab = "Event", ylab = "Total of fatalities")
axis(1, at = which(by_evtype_harmful$total_fatal > 700)+3, labels = by_evtype_harmful$evtype[which(by_evtype_harmful$total_fatal > 700)], )
barplot(by_evtype_harmful$total_fatal, col = colors, main = "Total of fatalities per event in US",
horiz = T, xlab = "Event", ylab = "Total of fatalities")
barplot(by_evtype_harmful$total_fatal, col = colors, main = "Total of fatalities per event in US",
xlab = "Event", ylab = "Total of fatalities")
barplot(by_evtype_harmful$total_fatal, names.arg = by_evtype_harmful$evtype, col = colors,
main = "Total of fatalities per event in US", xlab = "Event", ylab = "Total of fatalities")
barplot(by_evtype_harmful$total_fatal, col = colors,
main = "Total of fatalities per event in US", xlab = "Event", ylab = "Total of fatalities")
library(ggplot2)
ggplot(by_evtype_harmful, aes(by_evtype_harmful$total_fatal))
char <- ggplot(by_evtype_harmful, aes(by_evtype_harmful$total_fatal))
char + geom_bar
?ggplot
char <- ggplot(by_evtype_harmful, aes(x = by_evtype_harmful$evtype, y = by_evtype_harmful$total_fatal))
char + geom_bar
char + geom_bar()
char <- ggplot(by_evtype_harmful, aes(by_evtype_harmful$total_fatal))
char + geom_bar()
char <- ggplot(by_evtype_harmful, aes(x = as.factor(by_evtype_harmful$evtype), y = by_evtype_harmful$total_fatal))
char + geom_bar()
char <- ggplot(by_evtype_harmful, aes(x = factor(by_evtype_harmful$evtype), y = by_evtype_harmful$total_fatal))
char + geom_bar()
char <- ggplot(by_evtype_harmful, aes(by_evtype_harmful$total_fatal))
char + geom_bar()
